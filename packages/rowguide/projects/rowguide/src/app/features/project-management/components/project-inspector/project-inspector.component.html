<app-error-boundary>
  <mat-card class="project-summary">
    <mat-card-title>Project Summary</mat-card-title>
    <mat-card-content>
      <mat-list>
        <ng-template [ngIf]="!(settingsService.ppinspector$ | async)">
          <mat-list-item>Name: {{(projectService.project$ | async)?.name || 'No Project'}}</mat-list-item>
          <mat-list-item>Rows: {{(projectService.project$ | async)?.rows?.length || 0}}</mat-list-item>
        </ng-template>
        <ng-template [ngIf]="settingsService.ppinspector$ | async">
          <mat-list-item>Name: {{(projectService.project$ | async)?.name || 'No Project'}}</mat-list-item>
          <mat-list-item>Rows: {{(projectService.project$ | async)?.rows?.length || 0}}</mat-list-item>
        </ng-template>
      </mat-list>
    </mat-card-content>
  </mat-card>
  <mat-card class="saved-position">
    <mat-card-title>Saved Position</mat-card-title>
    <mat-card-content>
      <mat-list>
        <ng-template [ngIf]="!(settingsService.ppinspector$ | async)">
          <mat-list-item>{{ (projectService.project$ | async)?.position?.row ?? 0 }}, {{ (projectService.project$ |
            async)?.position?.step ?? 0 }}</mat-list-item>
        </ng-template>
        <ng-template [ngIf]="settingsService.ppinspector$ | async">
          <mat-list-item>Row: {{ getDisplayRow() | async }}</mat-list-item>
          <mat-list-item>Step: {{ getDisplayStep() | async }}</mat-list-item>
        </ng-template>
      </mat-list>
      <button mat-raised-button color="warn" (click)="resetPosition()">Reset Position</button>
    </mat-card-content>
</mat-card>
<mat-card class="project-image">
  <mat-card-title>Project Image</mat-card-title>
  <mat-card-content>
    <img ngfSelect [(file)]="file" (fileChange)="uploadPicture()" [src]="image$ | async">
  </mat-card-content>
</mat-card>
</app-error-boundary>
